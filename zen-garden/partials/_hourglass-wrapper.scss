//---------------Hourglass wrapping rules--------------------

//HOURGLASS WRAPPER_variables for triangle shape on each side of the text
$h1: 80vw; //height based on viewport width 
$w1: 30vw;

//HOURGLASS WRAPPER_text styling for hourflass wrapping

h3{
  text-align: center;  
}

.preamble h3,
.participation h3,
.requirements h3{
  text-transform: uppercase;
  margin-top: 2em;
}

.supporting p,
.preamble p{
  text-align: justify;
}

//HOURGLASS WRAPPER_separator between hourglass shapes
.preamble h3:before,
.participation h3:before{
  width: 100%;
  height: 5px;
  background-color: grey;
  display: inline-block;
  content: "";
  margin: 0 0 2em 0;
}


.preamble:before {
  content: "";
  opacity: .2; 
  // background-color: blue; //enable when doing maintenance on the hourglass wrapper
  width: $w1;
  shape-outside: polygon(0 0, 0% 100%, 100% 100%);
  /*height: 100vh;*/
}



//HOURGLASS WRAPPER_general styles
.preamble p:nth-of-type(1):before,
.preamble h3:after,
.participation p:nth-of-type(1):before,
.participation h3:after,
.requirements p:nth-of-type(1):before,
.requirements h3:after,
.explanation p:nth-of-type(1):before,
.explanation h3:after,
.benefits p:nth-of-type(1):before,
.benefits h3:after,
.requirements p:nth-of-type(3):before,
.requirements p:nth-of-type(2):after{
  content:"";      
  opacity: .2;
  // background-color: blue;  //enable when doing maintenance on the hourglass wrapper
  width: $w1;

  @include MQ(L1){
    width: 352px;
  }
}

//HOURGLASS WRAPPER_top LEFT of hourglass
.preamble p:nth-of-type(1):before,
.participation p:nth-of-type(1):before,
.requirements p:nth-of-type(1):before{
  shape-outside: polygon(0 0, 0% 100%, 100% 100%);
  float: left;  
  // background-color: red; //enable when doing maintenance on the hourglass wrapper
}
//HOURGLASS WRAPPER_top RIGHT of hourglass

.preamble h3:after,
.participation h3:after,
.requirements h3:after{
  shape-outside: polygon(100% 0, 0% 100%, 100% 100%);  
  float: right;
  // background-color: red; //enable when doing maintenance on the hourglass wrapper 
}

//HOURGLASS WRAPPER_bottom LEFT of hourglass
.explanation p:nth-of-type(1):before,
.benefits p:nth-of-type(1):before,
.requirements p:nth-of-type(3):before{
  shape-outside: polygon(0 0, 0 100%, 100% 0);  
  float: left;
  // background-color: red;  //enable when doing maintenance on the hourglass wrapper
}

//HOURGLASS WRAPPER_bottom RIGHT of hourglass
.explanation h3:after,
.benefits h3:after,
.requirements p:nth-of-type(2):after{
  shape-outside: polygon(0 0, 100% 100%, 100% 0);  
  float: right;
  // background-color: red;  //enable when doing maintenance on the hourglass wrapper
}

//HOURGLASS WRAPPER_TOP OF HOURGLASS Dimensions of triangle wrapper
.preamble p:nth-of-type(1):before{  
  height: calc(44rem - 90vw); //this calc operation makes the height of the triangle decrease as the viewport width increases, and vicervesa. 
  
  @include MQ(M){ //as the viewport widens, both rem and vw must decrease for the tiangle to adapt and preserve the glass wrapping
    height: calc(26rem - 29vw);
  }

  @include MQ(S){
    height: calc(23rem - 6vw);
  }

  @include MQ(L1){
    height: 312px;
  }
}

.preamble h3:after{
  height: calc(50rem - 112vw);

  @include MQ(M){
    height: calc(23rem - 14vw);
  }

  @include MQ(S){
    height: calc(26rem - 8vw);
  }

  @include MQ(L1){
    height: 325px;
  }
}

.participation p:nth-of-type(1):before{
  height: calc(60rem - 100vw);

  @include MQ(M1){ 
    height: calc(54rem - 78vw);
  }

  @include MQ(S){
    height: calc(51rem - 32vw);
  }
  
  @include MQ(L1){
    height: 470px;
  }
}

.participation h3:after{
  height: calc(66rem - 120vw);

  @include MQ(M1){
    height: calc(63rem - 95vw);
  }

  @include MQ(S){
    height: calc(53rem - 35vw);
  }

  @include MQ(L1){    
    height: 463px;
  }
}

//  MOMENTARILY ELIMINATED THE HOURGLASS SHAPE FROM THE REQUIREMENTS PARAGRAPH BECAUSE THE BOTTOM PART OF THE SHAPE INVADES THE TOP WHEN DRAGGING THE VIEWPORT WIDTH. COULDNT FIND A WAY TO AVOID THIS, SO I'M REMOVING THE WRAPPING FOR NOW. TO ENABLE THE WRAPPING AGAIN, JUST REMOVE THE COMMENT FROM THE RULES BELOW:
// .requirements p:nth-of-type(1):before{
//   height: calc(62rem - 100vw);

//   @include MQ(M1){ 
//     height: calc(54rem - 78vw);
//   }

//   @include MQ(S){
//     height: calc(48rem - 32vw);
//   }
// }

// .requirements h3:after{
//   height: calc(67rem - 120vw);

//   @include MQ(M1){
//     height: calc(63rem - 95vw);
//   }

//   @include MQ(S){
//     height: calc(53rem - 35vw);
//   }
// }

//HOURGLASS WRAPPER_BOTTOM OF HOURGLASS Dimensions of triangle wrapper
//CAUTION: THESE ONLY WORK AT A VIEWPORT WIDTH OF 400PX 
.explanation p:nth-of-type(1):before{
  height: calc(48rem - 78vw);  

  @include MQ(M1){
    height: calc(35rem - 45vw);
  }

  @include MQ(S){
    height: calc(29rem - 5vw);
  }

  @include MQ(L1){
    height:400px;
  }
}
.explanation h3:after{
  height: calc(48rem - 71vw);

  @include MQ(M1){
    height: calc(35rem - 40vw);
  }

  @include MQ(S){
    height: calc(29rem - 3vw);
  }

  @include MQ(L1){
    height:431px;
  }
}

.benefits p:nth-of-type(1):before{
  height: calc(29rem - 58vw);  

  @include MQ(M1){
    height: calc(19rem - 22vw);
  }

  @include MQ(S){
    height: calc(15rem - 1vw);
  }

  @include MQ(L1){
    height: 220px;
  }
}
.benefits h3:after{
  height: calc(31rem - 57vw);

  @include MQ(M1){
    height: calc(26rem - 37vw);
  }

  @include MQ(S){
    height: calc(14rem - 1vw);
  }

  @include MQ(L1){
    height:213px;
  }
}
// .requirements p:nth-of-type(3):before{
//   height: calc(3em + $h1); 
// }
// .requirements p:nth-of-type(2):after{
//   height: calc(3em + $h1);  
// }

//HOURGLASS WRAPPER_space for icon at the center of the hourglass

.preamble p:nth-of-type(3),
.participation p:nth-of-type(3){
  margin-bottom: 6em;
}
.requirements p:nth-of-type(2){
  margin-bottom: 3em;
}


//TEST FOR REQUIREMENTS SECTION - sheets of paper organize on hover
@include MQ(L){
  .requirements {
    background: #fafafa;
    box-shadow: 0 0 10px rgba(0,0,0,0.3), 0 0 300px 25px rgba(222,198,122,0.7) inset;
    width: 680px;
    height: 840px;
    margin: 1.5% auto;  
    padding: 30px 30px 30px 60px;
    position: relative;
    transform: rotate(5deg);
    transition: 500ms ease-out;
  }

  .requirements:hover{
    transform: rotate(0deg);
  }

  .requirements:before, .requirements:after {
    content: "";
    background: #fafafa;
    box-shadow: 0 0 8px rgba(0,0,0,0.2), inset 0 0 300px rgba(222,198,122,0.7);
    height: 100%;
    width: 100%;
    position: absolute;
    z-index: -2;
    transition: .5s;
  }

  .requirements:before {
    left: -5px;
    top: 2px;  
    transform: rotate(-1.5deg);
  }

  .requirements:after {
    right: -3px;
    top: 0px;
    transform: rotate(2.4deg);
  }

  .requirements:hover:before {
  transform: rotate(0deg);
  border: solid rgba(111,99,61,0.4);
  border-width: 0px 0px 0px 1px;
  left: 7px;
  top: 12px; 
  }

  .requirements:hover:after {
  transform: rotate(0deg);
  border: solid rgba(111,99,61,0.4);
  border-width: 0px 0px 0px 1px;
  right: -15px;
  top: 24px;
  }
}

